(function(){"use strict";var e={3040:function(e,t,a){var o=a(9242),n=a(3396);function s(e,t){const a=(0,n.up)("router-view");return(0,n.wg)(),(0,n.j4)(a,null,{default:(0,n.w5)((({Component:e})=>[(0,n.Wm)(o.uT,{name:"slide-fade"},{default:(0,n.w5)((()=>[((0,n.wg)(),(0,n.j4)((0,n.LL)(e)))])),_:2},1024)])),_:1})}var i=a(89);const r={},l=(0,i.Z)(r,[["render",s]]);var u=l,c=a(2483),d=(a(560),a(7139)),p=a.p+"media/blob.9e7bbc2a.mp4",v=a.p+"img/login-icon.a0916b86.svg";const m={class:"input-field"},y={class:"label"},g={class:"input-field-content"},f=(0,n._)("input",{type:"text"},null,-1);function _(e,t,a,o,s,i){return(0,n.wg)(),(0,n.iD)("div",m,[(0,n._)("div",y,(0,d.zw)(e.label),1),(0,n._)("div",g,[(0,n.WI)(e.$slots,"default",{},(()=>[f]))])])}var h=(0,n.aZ)({name:"InputField",props:{label:String}});const w=(0,i.Z)(h,[["render",_]]);var b=w,k=a(1076),C=a(4870),A=a(3836),x=a(65);const Z=e=>((0,n.dD)("data-v-d28dccde"),e=e(),(0,n.Cn)(),e),P={class:"home"},O=Z((()=>(0,n._)("video",{autoplay:"",muted:"",loop:"",id:"blob"},[(0,n._)("source",{src:p,type:"video/mp4"}),(0,n.Uk)(" Your browser does not support the video tag. ")],-1))),H={class:"content"},$=Z((()=>(0,n._)("div",{class:"hello"},[(0,n._)("span",{class:"small-text"},"You've just opened"),(0,n._)("h1",null,[(0,n.Uk)("Neutrino "),(0,n._)("span",{class:"description"}," — smart proxy")])],-1))),z={class:"bottom-content"},U={class:"actions"},L=Z((()=>(0,n._)("a",{href:"#"},"Create my own",-1))),q=Z((()=>(0,n._)("img",{src:v,alt:""},null,-1))),D=[q],S="https://localhost/api/";var T=(0,n.aZ)({__name:"HomeView",setup(e){const t=(0,x.oR)(),a=(0,c.tv)(),s=(0,C.iH)(""),i=(0,C.iH)(!1);async function r(){try{const e=await k.Z.post(`${S}auth`,{username:"admin",password:s.value});201===e.status?(t.dispatch("authorize"),a.push("/admin")):A.Am.error("Unauthorised")}catch(e){A.Am.error("Unauthorised",{theme:"dark",transition:"flip",autoClose:2e3})}}return(0,n.bv)((()=>{t.dispatch("logout")})),(e,t)=>((0,n.wg)(),(0,n.iD)("div",P,[O,(0,n._)("div",H,[$,(0,n._)("div",z,[(0,n._)("div",U,[(0,n._)("a",{onClick:t[0]||(t[0]=e=>i.value=!i.value)},"Admin panel"),L]),(0,n.Wm)(b,{class:(0,d.C_)(["hidden-form",{visible:i.value}]),label:"Admin password"},{default:(0,n.w5)((()=>[(0,n.wy)((0,n._)("input",{type:"password","placeholder:":"","onUpdate:modelValue":t[1]||(t[1]=e=>s.value=e)},null,512),[[o.nr,s.value]]),(0,n._)("button",{class:"squared-btn",onClick:t[2]||(t[2]=e=>r())},D)])),_:1},8,["class"])])])]))}});const j=(0,i.Z)(T,[["__scopeId","data-v-d28dccde"]]);var F=j,W=a.p+"img/eye-opened.6792ddb3.svg",V=a.p+"img/eye-closed.7994edaf.svg",Y=a.p+"img/info.80eb06c8.svg",M=a.p+"img/empty-icon.86e635c2.svg",N=a.p+"img/delete-icon.820baacf.svg",E=a.p+"img/add-square.4a79e3e2.svg",I=a.p+"img/copy.00eba7ee.svg",K=a.p+"img/reload-icon.d94522da.svg",R=a.p+"img/submit-icon.d2fbb1d0.svg";const B={key:0,class:"admin"},G=(0,n._)("header",null,[(0,n._)("h3",null,"Neutrino")],-1),J={class:"proxy-settings"},Q=["type"],X=(0,n._)("img",{src:W},null,-1),ee=[X],te=(0,n._)("img",{src:V},null,-1),ae=[te],oe=(0,n._)("option",{value:"chacha20-ietf-poly1305"}," chacha20-ietf-poly1305 ",-1),ne=(0,n._)("option",{value:"aes-256-gcm"},"aes-256-gcm",-1),se=(0,n._)("option",{value:"rc4"},"rc4",-1),ie=[oe,ne,se],re=(0,n._)("div",{class:"delimiter"},null,-1),le={class:"access-list"},ue=(0,n._)("div",{class:"access-list-header"},[(0,n.Uk)(" One-time access list "),(0,n._)("div",{class:"info"},[(0,n._)("img",{src:Y}),(0,n._)("span",null,"Click to copy key")])],-1),ce={class:"empty-list-icon"},de=(0,n._)("img",{src:M,alt:""},null,-1),pe=(0,n._)("p",null,"Add the first key →",-1),ve=[de,pe],me={class:"list-view"},ye=["onClick"],ge=["onClick"],fe={class:"danger-zone"},_e={class:"create-one-time"},he=(0,n._)("img",{src:E},null,-1),we=[he],be=["value"],ke=(0,n._)("img",{src:I},null,-1),Ce=[ke],Ae=(0,n._)("img",{src:K},null,-1),xe=[Ae],Ze=(0,n._)("div",{class:"delimiter"},null,-1),Pe={class:"admin-password-editor"},Oe=["type"],He=(0,n._)("img",{src:W},null,-1),$e=[He],ze=(0,n._)("img",{src:V},null,-1),Ue=[ze],Le=(0,n._)("img",{src:R},null,-1),qe=[Le],De=(0,n._)("div",{class:"delimiter"},null,-1),Se=(0,n._)("div",{class:"bg"},[(0,n._)("video",{autoplay:"",muted:"",loop:"",id:"blob"},[(0,n._)("source",{src:p,type:"video/mp4"}),(0,n.Uk)(" Your browser does not support the video tag. ")])],-1),Te="https://localhost/api/";var je=(0,n.aZ)({__name:"AdminView",setup(e){const t=(0,x.oR)(),a=(0,c.tv)(),s=(0,C.iH)(!1),i=(0,C.iH)("password"),r=(0,C.iH)("password"),l=(0,C.iH)(""),u=(0,C.iH)(""),p=(0,C.iH)(""),v=(0,C.iH)({password:"",server_port:0,method:"",mode:""}),m=(0,C.iH)([]);function y(e){v.value.mode=e}function g(e,t){_((async()=>{const a=await k.Z.post(`${Te}delete-key`,{username:e,api_key:t});201==a.status&&(f(),$(`Access key ${e} deleted`,"success"))}))}function f(){_((async()=>{const e=await k.Z.get(`${Te}keys`);m.value=e.data}))}async function _(e){try{return await e()}catch(t){return console.log(t),$(t?.response?.data?.message?t.response.data.message:t.message,"error"),t}}async function h(){_((async()=>{const e=await k.Z.put(`${Te}change-password`,{username:"admin",password:p.value});200==e.status&&$("Admin password changed!","success")}))}function w(){i.value="password"==i.value?"text":"password"}function Z(){r.value="password"==r.value?"text":"password"}function P(){const e=l.value.trim();""!==e?m.value.filter((t=>t.username===e)).length?$("Name should be unique","error"):(console.log("create key"),_((async()=>{const t=await k.Z.post(`${Te}key`,{username:l.value});201==t.status&&($(`Access key ${e} created`,"success"),f())}))):$("Enter key name firstly","error")}function O(){_((async()=>{const e=await k.Z.get(`${Te}permanent-key`);u.value=e.data}))}function H(){_((async()=>{const e=await k.Z.post(`${Te}permanent-key`);u.value=e.data.api_key}))}function $(e,t){(0,A.Am)(e,{autoClose:2e3,pauseOnHover:!0,theme:"dark",transition:"flip",type:t||"default",position:"top-right"})}async function z(e){try{await navigator.clipboard.writeText(e),console.log("Content copied to clipboard"),$("Key copied to clipboard")}catch(t){console.error("Failed to copy: ",t)}}function U(){L.value?(F(),L.value=!1):T()}const L=(0,C.iH)(!0);function q(){_((async()=>{const e=await k.Z.get(`${Te}config`);console.log(e),v.value=e?.data}))}function D(){const e=v.value;if(e.password){if(!(!e.server_port||e.server_port<0||e.server_port>65535))return 443==e.server_port?($("Choose another port please","error"),void $("Port 443 (TLS/HTTPS) used by Neutrino server","info")):void _((async()=>{const t=await k.Z.post(`${Te}config`,{...e});console.log(t),$("Config saved","success"),S()}));$("Port should be a number in range between 0 and 65535.","error")}else $("Proxy password shouldnot be empty.","error")}function S(){const e=(0,A.Am)("Restart...",{theme:"dark",transition:"flip",position:"top-right",isLoading:!0});_((async()=>{try{const t=await k.Z.post(`${Te}restart`);"active"==t.data?A.Am.update(e,{render:"Proxy restarted!",autoClose:2200,type:"success",isLoading:!1}):A.Am.update(e,{render:"Failed to restart...",autoClose:2e3,type:"error",isLoading:!1})}catch(t){A.Am.update(e,{render:"Failed to restart...",autoClose:2e3,type:"error",isLoading:!1})}}))}function T(){const e=A.Am.loading("Starting...",{autoClose:2e3,pauseOnHover:!0,theme:"dark",transition:"flip",position:"top-right"});_((async()=>{try{const t=await k.Z.post(`${Te}start`);"active"==t.data?(A.Am.update(e,{render:"Proxy is running!",autoClose:2e3,type:"success",isLoading:!1}),L.value=!0):A.Am.update(e,{render:"Failed to start...",autoClose:2e3,type:"error",isLoading:!1})}catch(t){A.Am.update(e,{render:"Failed to start...",autoClose:2e3,type:"error",isLoading:!1})}}))}function j(){_((async()=>{const e=await k.Z.get(`${Te}status`);L.value="active"==e.data}))}function F(){const e=A.Am.loading("Finishing...",{autoClose:2e3,pauseOnHover:!0,theme:"dark",transition:"flip",position:"top-right"});_((async()=>{try{const t=await k.Z.post(`${Te}stop`);"inactive"==t.data?(A.Am.update(e,{render:"Proxy was stopped!",autoClose:2e3,type:"warning",isLoading:!1}),L.value=!1):A.Am.update(e,{render:"Failed to stop...",autoClose:2e3,type:"error",isLoading:!1})}catch(t){A.Am.update(e,{render:"Failed to stop...",autoClose:2e3,type:"error",isLoading:!1})}}))}return(0,n.bv)((async()=>{!0!==t.getters.isAuthorized&&a.push("/"),s.value=!0,j(),O(),f(),q()})),(e,t)=>s.value?((0,n.wg)(),(0,n.iD)("div",B,[G,(0,n._)("main",null,[(0,n._)("section",J,[(0,n.Wm)(b,{label:"Proxy password"},{default:(0,n.w5)((()=>[(0,n.wy)((0,n._)("input",{type:i.value,"onUpdate:modelValue":t[0]||(t[0]=e=>v.value.password=e)},null,8,Q),[[o.YZ,v.value.password]]),"password"==i.value?((0,n.wg)(),(0,n.iD)("div",{key:0,class:"squared-btn",onClick:t[1]||(t[1]=e=>w())},ee)):((0,n.wg)(),(0,n.iD)("div",{key:1,class:"squared-btn",onClick:t[2]||(t[2]=e=>w())},ae))])),_:1}),(0,n.Wm)(b,{label:"Proxy port"},{default:(0,n.w5)((()=>[(0,n.wy)((0,n._)("input",{type:"number","onUpdate:modelValue":t[3]||(t[3]=e=>v.value.server_port=e)},null,512),[[o.nr,v.value.server_port]])])),_:1}),(0,n.Wm)(b,{label:"Encryption method"},{default:(0,n.w5)((()=>[(0,n.wy)((0,n._)("select",{"onUpdate:modelValue":t[4]||(t[4]=e=>v.value.method=e)},ie,512),[[o.bM,v.value.method]])])),_:1}),(0,n.Wm)(b,{label:"Proxy mode"},{default:(0,n.w5)((()=>[(0,n._)("button",{onClick:t[5]||(t[5]=e=>y("tcp")),class:(0,d.C_)({active:"tcp"===v.value.mode})}," TCP ",2),(0,n._)("button",{onClick:t[6]||(t[6]=e=>y("tcp_and_udp")),class:(0,d.C_)({active:"tcp_and_udp"===v.value.mode})}," TCP&UDP ",2),(0,n._)("button",{onClick:t[7]||(t[7]=e=>y("udp")),class:(0,d.C_)({active:"udp"===v.value.mode})}," UDP ",2)])),_:1}),re,(0,n.Wm)(b,null,{default:(0,n.w5)((()=>[(0,n._)("button",{class:"save-btn",onClick:t[8]||(t[8]=e=>D())}," Save and restart ")])),_:1})]),(0,n._)("section",le,[ue,(0,n.wy)((0,n._)("div",ce,ve,512),[[o.F8,!m.value.length]]),(0,n._)("div",me,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(m.value,(e=>((0,n.wg)(),(0,n.iD)("div",{class:"access-list-item",key:e.api_key},[(0,n._)("span",{onClick:t=>z(e.api_key)},(0,d.zw)(e.username),9,ye),(0,n._)("img",{onClick:t=>g(e.username,e.api_key),src:N},null,8,ge)])))),128))])]),(0,n._)("section",fe,[(0,n._)("div",_e,[(0,n.Wm)(b,{label:"Create one-time access key"},{default:(0,n.w5)((()=>[(0,n.wy)((0,n._)("input",{type:"text","onUpdate:modelValue":t[9]||(t[9]=e=>l.value=e),placeholder:"Key name"},null,512),[[o.nr,l.value]]),(0,n._)("div",{class:"squared-btn",onClick:t[10]||(t[10]=e=>P())},we)])),_:1}),(0,n.Wm)(b,{label:"Copy permanent access key"},{default:(0,n.w5)((()=>[(0,n._)("input",{type:"text",style:{"font-size":"0.6em"},disabled:"",value:u.value},null,8,be),(0,n._)("div",{class:"squared-btn",onClick:t[11]||(t[11]=e=>z(u.value))},Ce),(0,n._)("div",{class:"squared-btn",onClick:t[12]||(t[12]=e=>H())},xe)])),_:1})]),Ze,(0,n._)("div",Pe,[(0,n.Wm)(b,{label:"Change admin password"},{default:(0,n.w5)((()=>[(0,n.wy)((0,n._)("input",{type:r.value,"onUpdate:modelValue":t[13]||(t[13]=e=>p.value=e)},null,8,Oe),[[o.YZ,p.value]]),"password"==r.value?((0,n.wg)(),(0,n.iD)("div",{key:0,class:"squared-btn",onClick:t[14]||(t[14]=e=>Z())},$e)):((0,n.wg)(),(0,n.iD)("div",{key:1,class:"squared-btn",onClick:t[15]||(t[15]=e=>Z())},Ue)),(0,n._)("div",{class:"squared-btn",onClick:t[16]||(t[16]=e=>h())},qe)])),_:1})]),De,(0,n._)("button",{class:(0,d.C_)(["toggle-proxy",{"green-btn":!L.value}]),onClick:t[17]||(t[17]=e=>U())},(0,d.zw)(L.value?"Stop proxy":"Start proxy"),3)])]),Se])):(0,n.kq)("",!0)}});const Fe=je;var We=Fe;const Ve=[{path:"/",name:"home",component:F,meta:{transition:"slide-left"}},{path:"/admin",name:"admin",component:We,meta:{transition:"slide-right"}}],Ye=(0,c.p7)({history:(0,c.PO)("/"),routes:Ve});var Me=Ye,Ne=(0,x.MT)({state:{authorized:!1},getters:{isAuthorized:e=>e.authorized},mutations:{setAuthorized(e,t){e.authorized=t}},actions:{authorize({commit:e}){e("setAuthorized",!0)},logout({commit:e}){e("setAuthorized",!1)}},modules:{}});(0,o.ri)(u).use(Ne).use(Me).mount("#app")}},t={};function a(o){var n=t[o];if(void 0!==n)return n.exports;var s=t[o]={exports:{}};return e[o].call(s.exports,s,s.exports,a),s.exports}a.m=e,function(){var e=[];a.O=function(t,o,n,s){if(!o){var i=1/0;for(c=0;c<e.length;c++){o=e[c][0],n=e[c][1],s=e[c][2];for(var r=!0,l=0;l<o.length;l++)(!1&s||i>=s)&&Object.keys(a.O).every((function(e){return a.O[e](o[l])}))?o.splice(l--,1):(r=!1,s<i&&(i=s));if(r){e.splice(c--,1);var u=n();void 0!==u&&(t=u)}}return t}s=s||0;for(var c=e.length;c>0&&e[c-1][2]>s;c--)e[c]=e[c-1];e[c]=[o,n,s]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var o in t)a.o(t,o)&&!a.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.p="/"}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,o){var n,s,i=o[0],r=o[1],l=o[2],u=0;if(i.some((function(t){return 0!==e[t]}))){for(n in r)a.o(r,n)&&(a.m[n]=r[n]);if(l)var c=l(a)}for(t&&t(o);u<i.length;u++)s=i[u],a.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return a.O(c)},o=self["webpackChunkneutrino_front"]=self["webpackChunkneutrino_front"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=a.O(void 0,[998],(function(){return a(3040)}));o=a.O(o)})();
//# sourceMappingURL=app.d1a237ae.js.map